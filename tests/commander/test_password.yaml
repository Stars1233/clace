tests:
  test0010:
    command: ../clace app list --admin_password=abcd /invalid # Wrong password, but password is ignored over UDS
    stderr:
      exactly: "error: app not found"
    exit-code: 1

  test0020:
    command: ../clace password # Generate password
    stderr: "Generated password is:"
    stdout: "admin_password_bcrypt ="
    exit-code: 0

  test0030:
    command: ../clace password --random # Generate password
    stderr: "Generated password is:"
    stdout: "admin_password_bcrypt ="
    exit-code: 0

  test0040:
    command: ../clace password --value=abcd # Set value
    stderr: "Add the following lines to your clace.toml config file to configure the server to use this password:"
    stdout: "[security]\nadmin_password_bcrypt ="
    exit-code: 0

  test0050:
    command: ../clace password --random --value=abcd # error
    stderr: "error: cannot specify both --random and --value"
    exit-code: 1

  test0060:
    command: ../clace password --prompt --value=abcd # error
    stderr: "error: cannot specify both --prompt and --value"
    exit-code: 1

  test0070:
    command: ../clace password --prompt --random # error
    stderr: "error: cannot specify both --random and --prompt"
    exit-code: 1
